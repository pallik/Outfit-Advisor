/*
 * createDatapointsFromNewData.c
 *
 * Code generation for function 'createDatapointsFromNewData'
 *
 * C source code generated on: Sat Jan 10 16:52:50 2015
 *
 */

/* Include files */
#include "rateColorPalette.h"
#include "createDatapointsFromNewData.h"
#include "rdivide.h"
#include "createFeaturesFromData.h"

/* Function Definitions */
void createDatapointsFromNewData(const real_T data[15], real_T datapoints_rgb[15],
  real_T datapoints_lab[15], real_T datapoints_data[15], real_T
  datapoints_concatenatedFeatures[334], real_T datapoints_features[334])
{
  real_T concatenatedFeatures[334];
  real_T b_labs[15];
  real_T rgbs[15];
  int32_T i0;
//  real_T b_datapoints_features[334];
  static const real_T dv0[334] = { -0.99988654562008983, -0.99999221416633521,
    0.0, -0.99999961722433028, -0.99999997994832179, 0.0, -0.99999670233551674,
    -0.99999954798415114, 0.0, -0.9999989385293524, -0.99999652523930782, 0.0,
    -0.99998516905194723, -0.99999221416633521, 0.0, -0.99999670233551674,
    -0.999929187834621, 0.0, -0.9999989385293524, -0.99999997994832179, 0.0,
    -0.99988654562008983, -0.99999697203397642, 0.0, -0.99999961722433028,
    -0.99999652523930782, 0.0, -0.9999514289921031, -0.99999954798415114, 0.0,
    -1.9999996086308569, -1.9718452844536665, -1.9999989299358791,
    -1.9998865370266166, -1.9075772781901694, -1.9134392137932688,
    -1.7094299637042789, -1.9639744002435044, -1.0, -1.0, -1.0, -1.0,
    -0.48018817362074923, -0.88929212774297228, -1.9999989299358791,
    -1.9999996086308569, -0.318733334346655, -0.85679291939828817,
    -1.6721540470548175, -1.9639744002435044, -0.20784313725490194,
    -0.38039215686274508, -1.0, -1.0, -0.96566711975292008, -0.999177716087682,
    0.0, 0.0, 0.0, 0.0, -0.97493515867751, -0.999882478749615, 0.0,
    -0.90317506839264494, -0.99702136641932027, 0.0, -0.99999961722433028,
    -0.99999997994832179, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0, -1.0, 0.0, 0.0, 0.0,
    0.0, 0.0, -0.64214904416228136, -0.84266990040679324, 0.0,
    -0.67329107430503077, -0.84266990040679324, 0.0, -0.63275385459064626,
    -0.84266990040679324, 0.0, -0.67329107430503077, -0.84266990040679324, 0.0,
    -0.67329107430503077, -0.82235663987611873, 0.0, -0.633665426348109,
    -0.84266990040679324, 0.0, -0.63633909133264555, -0.7133574225877628, 0.0,
    -0.67329107430503077, -0.623163443357861, 0.0, -0.67329107430503077,
    -0.50013608675335, 0.0, -0.67329107430503077, -0.45252764344531854, -1.0,
    -1.0, -1.0, -1.0, -1.2919395258976456, -1.2405553324691545,
    -1.2919395258976456, -1.4407531949262431, -1.258967712396625,
    -1.5801098076159144, -1.3593092471297892, -1.3154104090468635,
    -0.17004875121185703, -0.35063393867935388, -0.99246644257647054, -1.0,
    -0.1790806494043535, -0.52760817850830255, -1.0691999810971864,
    -1.4407531949262431, -0.17629507668888766, -0.37339796722574942,
    -0.88406312055399661, -1.5801098076159144, 0.0, -0.4846276852460969,
    -0.61757169832522385, 0.0, 0.0, 0.0, 0.0, -0.50860788275448265,
    -0.623163443357861, 0.0, -0.38959114106782528, -0.45252764344531854, 0.0,
    -0.67329107430503077, -0.84266990040679324, 0.0, 0.0, 0.0, -0.0,
    -0.99998635667013713, -0.99992339835495014, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 0.0, 0.0, 0.0, 0.0,
    -0.21875, -0.5, -1.0, -1.0, -0.20784313725490194, -0.38039215686274508, -1.0,
    -1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -3.1561453236150911, 0.0,
    -3.25378138498562, -3.1561453236150911, 0.0, 0.0, 0.0, 0.0,
    -12.42626595273634, 0.0, -13.798115508202617, -12.133711923179808, 0.0, 0.0,
    0.0, 0.0, -13.815510557964274, 0.0, -13.815510557964274, -13.815510557964274,
    4.6006526053544112, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0,
    -1.0, -1.0, -1.0, -0.23137254901960785, -0.44705882352941173, -1.0, -1.0,
    -0.23921568627450984, -0.4823529411764706, -1.0, -1.0, -0.24705882352941178,
    -0.49019607843137258, -1.0, -1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0,
    -0.99998697750801446, 0.0, 0.0, 0.0, 0.0 };

  static const real_T dv1[334] = { 1.9998865370266166, 1.999846496921625, 1.0,
    1.9999996086308569, 1.9998735313920442, 1.0, 1.9999966937420433,
    1.9999770906880168, 1.0, 1.9999989299358791, 1.9999761254612514, 1.0,
    1.9999851604584737, 1.9999891737977666, 1.0, 1.9999966937420433,
    1.9999261474660526, 1.0, 1.9999989299358791, 1.9999969395797534, 1.0,
    1.9998865370266166, 1.99997657225592, 1.0, 1.9999996086308569,
    1.9999024279383719, 1.0, 1.9999514203986297, 1.9999770906880168, 1.0,
    3.98854900789056, 3.9718448930845236, 3.9820819606399729, 3.96658114111702,
    3.6695340789623838, 3.9132132277474896, 3.6403890220248822,
    3.9057797120959812, 2.0, 2.0, 2.0, 2.0, 2.4801877822516061,
    2.7464256992158789, 2.7309932482236969, 2.2867270526550572,
    2.318507348300876, 2.5289469664531055, 2.57840875396883, 2.3099827228366365,
    1.2078431372549019, 1.3803921568627451, 1.3686274509803922, 1.2,
    1.9656671111594468, 1.9980131668181964, 1.0, 1.0782884503275816,
    0.99691483507740064, 0.54772255750516619, 1.9749351500840366,
    1.9997387906999122, 1.0, 1.9031750597991715, 1.9970183260507519, 1.0,
    1.9999996086308569, 1.9988354306788363, 1.0, 1.9999996086308569,
    1.9997740139542208, 1.0, 1.0000000000000002, 2.0, 2.0, 1.0,
    0.49335676542133206, 0.25973103442479, 0.82015616419967308, 1.0,
    1.4096111647834935, 1.5807619455943556, 1.0, 1.4256408976713775,
    1.5807619455943556, 1.0, 1.3981040124873192, 1.5807619455943556, 1.0,
    1.4407531949262431, 1.5807619455943556, 1.0, 1.4407531949262431,
    1.5604486850636812, 1.0, 1.4011275469693212, 1.4633193206044828, 1.0,
    1.4038012119538577, 1.3751332931638456, 1.0, 1.4396984661275494,
    1.3073201213890395, 1.0, 1.4157852553732144, 1.2177109097660421, 1.0,
    1.4340336890384044, 1.190619688632881, 2.0, 2.0, 2.0, 2.0,
    2.4192109993686097, 2.5323104726903529, 2.4165282108634276,
    2.7397799476256877, 2.751461652400697, 2.9477917157967042,
    2.8518031871338616, 2.6374582926535939, 1.1700487512118571,
    1.345096903288697, 1.3559311118358091, 1.138827542593984, 1.4781074021037981,
    1.4679125677707336, 1.62462461542201, 1.6450216087230016, 1.6687890166929598,
    1.5860370326236779, 1.3958500901015891, 1.7704266240715365, 1.0,
    1.2102457862518095, 1.2957054108479467, 0.5452697428364518,
    0.66138414823891245, 0.72577017658589693, 1.0, 1.24443361060198,
    1.3073201213890395, 1.0, 1.1570532616890374, 1.190619688632881, 1.0,
    1.3578532993963888, 1.4633193206044828, 1.0, 1.4407531949262431,
    1.5801098076159144, 0.99988492353228065, 1.9999863566701372,
    1.9999233983549503, 1.0, 0.4939039636707499, 0.25720969256547754,
    0.39923633176430828, 0.99891774891774887, 1.0, 1.0, 0.99927219796215427, 1.0,
    1.0, 0.99859943977591037, 1.0, 1.0, 0.99894514767932485, 1.0, 1.0,
    0.99912739965095987, 1.0, 1.0, 0.99927219796215427, 1.0, 1.0,
    0.99912739965095987, 1.0, 1.0, 0.99894514767932485, 1.0, 1.0,
    0.99920634920634921, 1.0, 1.0, 0.99874686716791983, 1.0, 1.0, 0.5, 0.5, 0.5,
    0.5, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 0.5, 0.498074894514768,
    0.48148148148148151, 0.478494623655914, 1.21875, 1.5, 1.4784313725490197,
    1.2031319118818011, 1.2078431372549019, 1.3803921568627451,
    1.3686274509803922, 1.2, 0.99362083613385566, 1.0, 1.0, 0.54534429073744251,
    0.54772255750516619, 0.54772255750516619, 0.99362477231329693, 1.0, 1.0,
    0.99927219796215427, 1.0, 1.0, 0.99358974358974361, 1.0, 1.0,
    0.99912739965095987, 1.0, 1.0, 2.473109759721094, 1.6654120453039734,
    2.473109759721094, 2.473109759721094, 4.061622098745894, 2.2488049598456095,
    4.1592581601164227, 4.061622098745894, 0.00061951615088451232,
    0.00035110887481663324, 0.00061951615088451232, 0.00061951615088451232,
    12.42626595273634, 2.2652630679430392, 13.798115508202617,
    12.133711923179808, 0.0030288922263204585, 0.0021391370311262792,
    0.0030288922263204581, 0.0030288922263204581, 13.815510557964274,
    4.57473414900813, 13.815510557964274, 13.815510557964274, 1.2993473946455891,
    1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
    1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
    2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0,
    1.2313725490196079, 1.4470588235294117, 1.4470588235294117,
    1.219607843137255, 1.2392156862745098, 1.4823529411764707,
    1.4745098039215687, 1.2274509803921569, 1.2470588235294118,
    1.4901960784313726, 1.4862745098039216, 1.2, 1.0, 1.0, 1.0,
    0.54772255750516619, 0.54772255750516619, 0.54772255750516619, 1.0, 1.0, 1.0,
    1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000000000000002, 2.0,
    1.9999869775080144, 1.0, 0.48924356660052148, 0.24411439235803112,
    0.698397796231233 };

  /*  For new palettes,  */
  /*  return features to use for getting ratings from trained model */
  /*  dataset = load(datasetName); */
  /*  dataset = coder.load('data/customData'); */
  /*  data = dataset.data; */
  /*  data = zeros(1,5,3); */
  /*  data(:,:,1) = [0.8000    1.0000    0.8902    0.8000    0.6000]; */
  /*  data(:,:,2) = [0.7529    0.9804    0.6627    0.4510    0.1333]; */
  /*  data(:,:,3) = [0.4510    0.4118    1.0000    0.6588    0.4157]; */
  createFeaturesFromData(data, rgbs, b_labs, concatenatedFeatures);

  /*  datapoints=[]; */
//  for (i0 = 0; i0 < 15; i0++) { //COMMENTED
//    datapoints_rgb[i0] = rgbs[i0];
//    datapoints_lab[i0] = b_labs[i0];
//
//    /* datapoints.ids=ids(1:numThemes); */
//    /* datapoints.names=names(1:numThemes); */
//    /* datapoints.targets=targets(1:numThemes); */
//    datapoints_data[i0] = data[i0];
//  }

  for (i0 = 0; i0 < 334; i0++) {
//    datapoints_concatenatedFeatures[i0] = concatenatedFeatures[i0]; //COMMENTED

    /*  [datapoints.features, datapoints.featureNames, datapoints.offsets, datapoints.scales]=createFeatureMatrix(datapoints,{'*'},1); */
    /*  [datapoints.features, datapoints.featureNames, datapoints.offsets, datapoints.scales]=createFeatureMatrix(datapoints,{'*'},0); */
    /*  [datapoints.features, datapoints.featureNames, datapoints.offsets, datapoints.scales]=createFeatureMatrix(datapoints,'*',0); */
    /*  mturk = load('weights_mTurk'); */
//    b_datapoints_features[i0] = concatenatedFeatures[i0] - dv0[i0]; //COMMENTED
//	  datapoints_features[i0] = b_datapoints_features[i0] / dv1[i0]; //ADDED
	  datapoints_features[i0] = (concatenatedFeatures[i0] - dv0[i0]) / dv1[i0]; //ADDED
  }

//  rdivide(b_datapoints_features, dv1, datapoints_features); //COMMENTED
}

/* End of code generation (createDatapointsFromNewData.c) */
